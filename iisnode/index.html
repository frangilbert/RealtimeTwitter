<html>
<head>
    <title>iisnode logs</title>
    <style type="text/css">
        body
        {
            font-family: "Trebuchet MS" , Arial, Helvetica, sans-serif;
        }
        table
        {
            border-collapse: collapse;
        }
        td, th
        {
            border: 1px solid lightgray;
            padding: 3px 7px 2px 7px;
        }
        th
        {
            text-align: left;
            padding-top: 5px;
            padding-bottom: 4px;
            background-color: Gray;
            color: #ffffff;
        }
        td.stderr
        {
            color: Red;
        }
    </style>
</head>
<body>
    <table id="logFilesTable">
        <tr>
            <th>
                Computer name
            </th>
            <th>
                PID
            </th>
            <th>
                Type
            </th>
            <th>
                Created
            </th>
            <th>
                Link
            </th>
        </tr>
    </table>
    <p id="lastUpdated"></p>
    <script type="text/javascript">

        // this is replaced with actual data at runtime by code in interceptor.js
        var logFiles = [{"file":"LONPR9KWYFTL-10256-stderr-1373991069542.txt","computername":"LONPR9KWYFTL","pid":10256,"type":"stderr","created":1373991069542},{"file":"LONPR9KWYFTL-10256-stdout-1373991069530.txt","computername":"LONPR9KWYFTL","pid":10256,"type":"stdout","created":1373991069530},{"file":"LONPR9KWYFTL-10364-stderr-1373993097344.txt","computername":"LONPR9KWYFTL","pid":10364,"type":"stderr","created":1373993097344},{"file":"LONPR9KWYFTL-10364-stdout-1373993097322.txt","computername":"LONPR9KWYFTL","pid":10364,"type":"stdout","created":1373993097322},{"file":"LONPR9KWYFTL-10444-stderr-1373989772015.txt","computername":"LONPR9KWYFTL","pid":10444,"type":"stderr","created":1373989772015},{"file":"LONPR9KWYFTL-10512-stderr-1373990998477.txt","computername":"LONPR9KWYFTL","pid":10512,"type":"stderr","created":1373990998477},{"file":"LONPR9KWYFTL-10512-stdout-1373990998465.txt","computername":"LONPR9KWYFTL","pid":10512,"type":"stdout","created":1373990998465},{"file":"LONPR9KWYFTL-10536-stdout-1373990936765.txt","computername":"LONPR9KWYFTL","pid":10536,"type":"stdout","created":1373990936765},{"file":"LONPR9KWYFTL-10552-stderr-1373990030517.txt","computername":"LONPR9KWYFTL","pid":10552,"type":"stderr","created":1373990030517},{"file":"LONPR9KWYFTL-10552-stdout-1373990030509.txt","computername":"LONPR9KWYFTL","pid":10552,"type":"stdout","created":1373990030509},{"file":"LONPR9KWYFTL-10568-stderr-1373991550284.txt","computername":"LONPR9KWYFTL","pid":10568,"type":"stderr","created":1373991550284},{"file":"LONPR9KWYFTL-10568-stdout-1373991550269.txt","computername":"LONPR9KWYFTL","pid":10568,"type":"stdout","created":1373991550269},{"file":"LONPR9KWYFTL-10600-stderr-1374054752129.txt","computername":"LONPR9KWYFTL","pid":10600,"type":"stderr","created":1374054752129},{"file":"LONPR9KWYFTL-10884-stdout-1373993143138.txt","computername":"LONPR9KWYFTL","pid":10884,"type":"stdout","created":1373993143138},{"file":"LONPR9KWYFTL-10924-stderr-1373989894790.txt","computername":"LONPR9KWYFTL","pid":10924,"type":"stderr","created":1373989894790},{"file":"LONPR9KWYFTL-10948-stderr-1373987872561.txt","computername":"LONPR9KWYFTL","pid":10948,"type":"stderr","created":1373987872561},{"file":"LONPR9KWYFTL-10948-stderr-1374054832329.txt","computername":"LONPR9KWYFTL","pid":10948,"type":"stderr","created":1374054832329},{"file":"LONPR9KWYFTL-11000-stderr-1373990993203.txt","computername":"LONPR9KWYFTL","pid":11000,"type":"stderr","created":1373990993203},{"file":"LONPR9KWYFTL-11000-stdout-1373990993193.txt","computername":"LONPR9KWYFTL","pid":11000,"type":"stdout","created":1373990993193},{"file":"LONPR9KWYFTL-11044-stderr-1374054826853.txt","computername":"LONPR9KWYFTL","pid":11044,"type":"stderr","created":1374054826853},{"file":"LONPR9KWYFTL-11152-stderr-1373988138029.txt","computername":"LONPR9KWYFTL","pid":11152,"type":"stderr","created":1373988138029},{"file":"LONPR9KWYFTL-11232-stderr-1373987618697.txt","computername":"LONPR9KWYFTL","pid":11232,"type":"stderr","created":1373987618697},{"file":"LONPR9KWYFTL-11872-stdout-1374073713855.txt","computername":"LONPR9KWYFTL","pid":11872,"type":"stdout","created":1374073713855},{"file":"LONPR9KWYFTL-11880-stdout-1374055082108.txt","computername":"LONPR9KWYFTL","pid":11880,"type":"stdout","created":1374055082108},{"file":"LONPR9KWYFTL-1328-stderr-1373989879491.txt","computername":"LONPR9KWYFTL","pid":1328,"type":"stderr","created":1373989879491},{"file":"LONPR9KWYFTL-1584-stderr-1373991290484.txt","computername":"LONPR9KWYFTL","pid":1584,"type":"stderr","created":1373991290484},{"file":"LONPR9KWYFTL-1584-stdout-1373991290469.txt","computername":"LONPR9KWYFTL","pid":1584,"type":"stdout","created":1373991290469},{"file":"LONPR9KWYFTL-1764-stderr-1373989915060.txt","computername":"LONPR9KWYFTL","pid":1764,"type":"stderr","created":1373989915060},{"file":"LONPR9KWYFTL-2324-stderr-1373991595591.txt","computername":"LONPR9KWYFTL","pid":2324,"type":"stderr","created":1373991595591},{"file":"LONPR9KWYFTL-2324-stdout-1373991595570.txt","computername":"LONPR9KWYFTL","pid":2324,"type":"stdout","created":1373991595570},{"file":"LONPR9KWYFTL-3384-stderr-1373989822614.txt","computername":"LONPR9KWYFTL","pid":3384,"type":"stderr","created":1373989822614},{"file":"LONPR9KWYFTL-3400-stdout-1373993015535.txt","computername":"LONPR9KWYFTL","pid":3400,"type":"stdout","created":1373993015535},{"file":"LONPR9KWYFTL-4428-stdout-1374075151364.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075151364},{"file":"LONPR9KWYFTL-4428-stdout-1374075166843.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075166843},{"file":"LONPR9KWYFTL-4428-stdout-1374075168345.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075168345},{"file":"LONPR9KWYFTL-4428-stdout-1374075169610.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075169610},{"file":"LONPR9KWYFTL-4428-stdout-1374075170235.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075170235},{"file":"LONPR9KWYFTL-4428-stdout-1374075171340.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075171340},{"file":"LONPR9KWYFTL-4428-stdout-1374075172258.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075172258},{"file":"LONPR9KWYFTL-4428-stdout-1374075210628.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075210628},{"file":"LONPR9KWYFTL-4428-stdout-1374075216307.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075216307},{"file":"LONPR9KWYFTL-4428-stdout-1374075222234.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075222234},{"file":"LONPR9KWYFTL-4428-stdout-1374075235897.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075235897},{"file":"LONPR9KWYFTL-4428-stdout-1374075238738.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075238738},{"file":"LONPR9KWYFTL-4428-stdout-1374075239699.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075239699},{"file":"LONPR9KWYFTL-4428-stdout-1374075265529.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075265529},{"file":"LONPR9KWYFTL-4428-stdout-1374075290382.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075290382},{"file":"LONPR9KWYFTL-4428-stdout-1374075291830.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075291830},{"file":"LONPR9KWYFTL-4428-stdout-1374075292577.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075292577},{"file":"LONPR9KWYFTL-4428-stdout-1374075293023.txt","computername":"LONPR9KWYFTL","pid":4428,"type":"stdout","created":1374075293023},{"file":"LONPR9KWYFTL-4616-stdout-1373990014814.txt","computername":"LONPR9KWYFTL","pid":4616,"type":"stdout","created":1373990014814},{"file":"LONPR9KWYFTL-4736-stderr-1373988490201.txt","computername":"LONPR9KWYFTL","pid":4736,"type":"stderr","created":1373988490201},{"file":"LONPR9KWYFTL-5000-stdout-1374054861337.txt","computername":"LONPR9KWYFTL","pid":5000,"type":"stdout","created":1374054861337},{"file":"LONPR9KWYFTL-5088-stdout-1374075103880.txt","computername":"LONPR9KWYFTL","pid":5088,"type":"stdout","created":1374075103880},{"file":"LONPR9KWYFTL-5192-stdout-1373992968850.txt","computername":"LONPR9KWYFTL","pid":5192,"type":"stdout","created":1373992968850},{"file":"LONPR9KWYFTL-5260-stderr-1373989828296.txt","computername":"LONPR9KWYFTL","pid":5260,"type":"stderr","created":1373989828296},{"file":"LONPR9KWYFTL-5828-stderr-1373993115400.txt","computername":"LONPR9KWYFTL","pid":5828,"type":"stderr","created":1373993115400},{"file":"LONPR9KWYFTL-5828-stdout-1373993115377.txt","computername":"LONPR9KWYFTL","pid":5828,"type":"stdout","created":1373993115377},{"file":"LONPR9KWYFTL-5960-stdout-1373990198696.txt","computername":"LONPR9KWYFTL","pid":5960,"type":"stdout","created":1373990198696},{"file":"LONPR9KWYFTL-6068-stdout-1374075129278.txt","computername":"LONPR9KWYFTL","pid":6068,"type":"stdout","created":1374075129278},{"file":"LONPR9KWYFTL-6156-stderr-1373989446302.txt","computername":"LONPR9KWYFTL","pid":6156,"type":"stderr","created":1373989446302},{"file":"LONPR9KWYFTL-6268-stderr-1373989111583.txt","computername":"LONPR9KWYFTL","pid":6268,"type":"stderr","created":1373989111583},{"file":"LONPR9KWYFTL-6268-stderr-1373991338966.txt","computername":"LONPR9KWYFTL","pid":6268,"type":"stderr","created":1373991338966},{"file":"LONPR9KWYFTL-6268-stdout-1373991338950.txt","computername":"LONPR9KWYFTL","pid":6268,"type":"stdout","created":1373991338950},{"file":"LONPR9KWYFTL-6308-stdout-1373992757532.txt","computername":"LONPR9KWYFTL","pid":6308,"type":"stdout","created":1373992757532},{"file":"LONPR9KWYFTL-6724-stderr-1373988160570.txt","computername":"LONPR9KWYFTL","pid":6724,"type":"stderr","created":1373988160570},{"file":"LONPR9KWYFTL-6736-stderr-1373989833565.txt","computername":"LONPR9KWYFTL","pid":6736,"type":"stderr","created":1373989833565},{"file":"LONPR9KWYFTL-6988-stderr-1373994445905.txt","computername":"LONPR9KWYFTL","pid":6988,"type":"stderr","created":1373994445905},{"file":"LONPR9KWYFTL-6988-stdout-1373994445884.txt","computername":"LONPR9KWYFTL","pid":6988,"type":"stdout","created":1373994445884},{"file":"LONPR9KWYFTL-6992-stderr-1373988106585.txt","computername":"LONPR9KWYFTL","pid":6992,"type":"stderr","created":1373988106585},{"file":"LONPR9KWYFTL-7056-stderr-1373986988521.txt","computername":"LONPR9KWYFTL","pid":7056,"type":"stderr","created":1373986988521},{"file":"LONPR9KWYFTL-7092-stdout-1374054980526.txt","computername":"LONPR9KWYFTL","pid":7092,"type":"stdout","created":1374054980526},{"file":"LONPR9KWYFTL-7176-stderr-1373988508083.txt","computername":"LONPR9KWYFTL","pid":7176,"type":"stderr","created":1373988508083},{"file":"LONPR9KWYFTL-7396-stderr-1374054783266.txt","computername":"LONPR9KWYFTL","pid":7396,"type":"stderr","created":1374054783266},{"file":"LONPR9KWYFTL-7396-stdout-1373991309070.txt","computername":"LONPR9KWYFTL","pid":7396,"type":"stdout","created":1373991309070},{"file":"LONPR9KWYFTL-7636-stdout-1374054989136.txt","computername":"LONPR9KWYFTL","pid":7636,"type":"stdout","created":1374054989136},{"file":"LONPR9KWYFTL-7756-stderr-1373989474120.txt","computername":"LONPR9KWYFTL","pid":7756,"type":"stderr","created":1373989474120},{"file":"LONPR9KWYFTL-7988-stderr-1373991219423.txt","computername":"LONPR9KWYFTL","pid":7988,"type":"stderr","created":1373991219423},{"file":"LONPR9KWYFTL-7988-stdout-1373991219411.txt","computername":"LONPR9KWYFTL","pid":7988,"type":"stdout","created":1373991219411},{"file":"LONPR9KWYFTL-8248-stdout-1373992731103.txt","computername":"LONPR9KWYFTL","pid":8248,"type":"stdout","created":1373992731103},{"file":"LONPR9KWYFTL-8400-stderr-1373991204229.txt","computername":"LONPR9KWYFTL","pid":8400,"type":"stderr","created":1373991204229},{"file":"LONPR9KWYFTL-8400-stdout-1373991204216.txt","computername":"LONPR9KWYFTL","pid":8400,"type":"stdout","created":1373991204216},{"file":"LONPR9KWYFTL-8424-stderr-1373989785141.txt","computername":"LONPR9KWYFTL","pid":8424,"type":"stderr","created":1373989785141},{"file":"LONPR9KWYFTL-8572-stderr-1373989826663.txt","computername":"LONPR9KWYFTL","pid":8572,"type":"stderr","created":1373989826663},{"file":"LONPR9KWYFTL-8720-stderr-1373989758642.txt","computername":"LONPR9KWYFTL","pid":8720,"type":"stderr","created":1373989758642},{"file":"LONPR9KWYFTL-8804-stderr-1373991601009.txt","computername":"LONPR9KWYFTL","pid":8804,"type":"stderr","created":1373991601009},{"file":"LONPR9KWYFTL-8804-stdout-1373991600992.txt","computername":"LONPR9KWYFTL","pid":8804,"type":"stdout","created":1373991600992},{"file":"LONPR9KWYFTL-8888-stdout-1373992988014.txt","computername":"LONPR9KWYFTL","pid":8888,"type":"stdout","created":1373992988014},{"file":"LONPR9KWYFTL-9336-stderr-1373992715588.txt","computername":"LONPR9KWYFTL","pid":9336,"type":"stderr","created":1373992715588},{"file":"LONPR9KWYFTL-9336-stdout-1373992715569.txt","computername":"LONPR9KWYFTL","pid":9336,"type":"stdout","created":1373992715569},{"file":"LONPR9KWYFTL-9500-stderr-1373989489455.txt","computername":"LONPR9KWYFTL","pid":9500,"type":"stderr","created":1373989489455},{"file":"LONPR9KWYFTL-9500-stdout-1373989489451.txt","computername":"LONPR9KWYFTL","pid":9500,"type":"stdout","created":1373989489451},{"file":"LONPR9KWYFTL-9508-stderr-1373990135672.txt","computername":"LONPR9KWYFTL","pid":9508,"type":"stderr","created":1373990135672},{"file":"LONPR9KWYFTL-9508-stdout-1373990135663.txt","computername":"LONPR9KWYFTL","pid":9508,"type":"stdout","created":1373990135663},{"file":"LONPR9KWYFTL-9564-stderr-1373989448973.txt","computername":"LONPR9KWYFTL","pid":9564,"type":"stderr","created":1373989448973},{"file":"LONPR9KWYFTL-9620-stderr-1373992589967.txt","computername":"LONPR9KWYFTL","pid":9620,"type":"stderr","created":1373992589967},{"file":"LONPR9KWYFTL-9620-stdout-1373992589947.txt","computername":"LONPR9KWYFTL","pid":9620,"type":"stdout","created":1373992589947},{"file":"LONPR9KWYFTL-9636-stderr-1374054834453.txt","computername":"LONPR9KWYFTL","pid":9636,"type":"stderr","created":1374054834453},{"file":"LONPR9KWYFTL-9648-stderr-1373990976366.txt","computername":"LONPR9KWYFTL","pid":9648,"type":"stderr","created":1373990976366},{"file":"LONPR9KWYFTL-9648-stdout-1373990976355.txt","computername":"LONPR9KWYFTL","pid":9648,"type":"stdout","created":1373990976355},{"file":"LONPR9KWYFTL-9668-stdout-1373990026323.txt","computername":"LONPR9KWYFTL","pid":9668,"type":"stdout","created":1373990026323},{"file":"LONPR9KWYFTL-9796-stdout-1373989847141.txt","computername":"LONPR9KWYFTL","pid":9796,"type":"stdout","created":1373989847141},{"file":"LONPR9KWYFTL-9912-stderr-1373989467655.txt","computername":"LONPR9KWYFTL","pid":9912,"type":"stderr","created":1373989467655},{"file":"LONPR9KWYFTL-9936-stderr-1373989947921.txt","computername":"LONPR9KWYFTL","pid":9936,"type":"stderr","created":1373989947921},{"file":"LONPR9KWYFTL-9940-stderr-1373989818384.txt","computername":"LONPR9KWYFTL","pid":9940,"type":"stderr","created":1373989818384}];
        var lastUpdated = 1374075293062;
        var date = new Date();

        date.setTime(lastUpdated);
        document.getElementById('lastUpdated').innerHTML = 'Index was last updated ' + date;

        logFiles.sort(function (a, b) {
            return b.created - a.created;
        });

        var logFilesTable = document.getElementById("logFilesTable");
        for (var i = 0; i < logFiles.length; i++) {
            var logFile = logFiles[i];
            date.setTime(logFile.created);
            var row = logFilesTable.insertRow(-1);
            var computerNameCell = row.insertCell(0);
            var pidCell = row.insertCell(1);
            var typeCell = row.insertCell(2);
            var dateCell = row.insertCell(3);
            var logCell = row.insertCell(4);
            computerNameCell.innerHTML = logFile.computername;
            pidCell.innerHTML = logFile.pid.toString();
            typeCell.innerHTML = logFile.type;
            typeCell.setAttribute('class', logFile.type);
            dateCell.innerHTML = date.toString();
            logCell.innerHTML = '<a href="' + logFile.file + '">log</a>';
        };

    </script>
</body>
</html>
